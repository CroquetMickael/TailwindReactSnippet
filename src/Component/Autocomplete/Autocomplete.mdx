---
name: Autocomplete
route: /Autocomplete
---

# Autocomplete component

import { Playground, Props } from "docz";
import { AutocompleteSelect } from "./AutocompleteSelect.jsx";
import { Input } from "../../TestingComponentComposition/Input/Input";
import { AutoCompleteList } from "../../TestingComponentComposition/Autocomplete/AutocompleteList";
import { AutoCompleteLabelList } from "../../TestingComponentComposition/Autocomplete/AutocompleteLabelList";
import tableData from "../../Mock/Table.json";

## Props of Input

<Props of={Input} />

### Exemple of Input component

```javascript
interface InputProps {
  value?: string;
  placeHolder: string;
  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;
  searchableValue?: string[];
}

const Input = (props: InputProps) => (
  <input
    className="appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 flex-1 bg-white text-sm 
    placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"
    value={props.value}
    placeholder={props.placeHolder}
    onChange={props.onChange}
  />
);

export { Input };
```

## Props of AutoCompleteLabelList

<Props of={AutoCompleteLabelList} />

```javascript
interface AutoCompleteListProps {
  data?: any[];
  onClick: (item: any, index: number) => void;
}

const AutoCompleteLabelList = (props: AutoCompleteListProps) => {
  return (
    <>
      {props.data?.length ? (
        props.data.map((item, index) => (
          <>
            <div className="bg-gray-300 w-1/6 my-1 ml-1 p-1" key={index}>
              {item.searchable}
            </div>
            <button
              className="cursor-pointer p-1 my-1 mr-1 bg-red-400"
              onClick={() => props.onClick(item, index)}
            >
              X
            </button>
          </>
        ))
      ) : (
        <div className="mx-2">Select a value</div>
      )}
    </>
  );
};

export { AutoCompleteLabelList };
```

## Props of AutoCompleteList

<Props of={AutoCompleteList} />

```javascript
interface AutoCompleteListProps {
  data?: any[];
  onClick: (item: any) => void;
}

const AutoCompleteList = (props: AutoCompleteListProps) => {
  return (
    <>
      {props.data?.length ? (
        <div className="bg-white border border-gray-700">
          {props.data?.map((item: any, index: number) =>
            item.selected === true ? (
              <p
                className="bg-white border-b border-gray-400 text-gray-400 p-2"
                key={index}
              >
                {item.searchable}
              </p>
            ) : (
              <p
                className="bg-white hover:bg-gray-400 border-b border-gray-400 p-2 cursor-pointer"
                onClick={() => props.onClick(item)}
                key={index}
              >
                {item.searchable}
              </p>
            )
          )}
        </div>
      ) : null}
    </>
  );
};

export { AutoCompleteList };
```

# Exemple

Current data is load by a json file so don't change tableData.

Current css framework used is Tailwindcss but in a real usecase, you can use whatever you want

<Playground>
  {() => {
    const [data, setData] = React.useState([]);
    const [selectedData, setSelectedData] = React.useState([]);
    React.useEffect(() => {
      const dataModified = tableData.reduce((arr, items) => {
        data.push({
          ...items,
          searchable: `${items.prenom} ${items.nom}`,
          selected: false,
        });
      }, tableData[0]);
    }, []);
    let selectItem = (item) => {
      const array = selectedData;
      item.selected = true;
      array.push(item);
      setSelectedData([...array]);
    };
    let removeItem = (item, index) => {
      const array = selectedData;
      item.selected = false;
      array.splice(index, 1);
      setSelectedData([...array]);
    };
    return (
      <AutocompleteSelect
        items={data}
        class="flex flex-wrap w-full py-2"
        selectedItems={selectedData}
        Label={
          <AutoCompleteLabelList
            onClick={(item, index) => removeItem(item, index)}
          />
        }
        searchInput={
          <Input placeHolder="Searching" searchableValue={["searchable"]} />
        }
        listComponent={
          <AutoCompleteList onClick={(item) => selectItem(item)} />
        }
      />
    );
  }}
</Playground>
